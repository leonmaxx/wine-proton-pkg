From fac7631f124e29a2febe92d8f378f81c00852e35 Mon Sep 17 00:00:00 2001
From: Hans-Kristian Arntzen <post at arntzen-software.no>
Date: Mon, 9 Dec 2019 07:17:20 -0600
Subject: [PATCH] d3d12: Fix D3D12SerializeVersionedRootSignature.

Use the proper versioned serializer from vkd3d.
---
 dlls/d3d12/d3d12_main.c | 6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

diff --git a/dlls/d3d12/d3d12_main.c b/dlls/d3d12/d3d12_main.c
index bd680d8254d..9f0fa12ee82 100644
--- a/dlls/d3d12/d3d12_main.c
+++ b/dlls/d3d12/d3d12_main.c
@@ -420,9 +420,5 @@ HRESULT WINAPI D3D12SerializeVersionedRootSignature(const D3D12_VERSIONED_ROOT_S
 {
     TRACE("desc %p, blob %p, error_blob %p.\n", desc, blob, error_blob);
 
-    if (desc->Version == D3D_ROOT_SIGNATURE_VERSION_1_0)
-        return vkd3d_serialize_root_signature(&desc->Desc_1_0, desc->Version, blob, error_blob);
-
-    FIXME("Unsupported version %#x.\n", desc->Version);
-    return E_NOTIMPL;
+    return vkd3d_serialize_versioned_root_signature(desc, blob, error_blob);
 }
